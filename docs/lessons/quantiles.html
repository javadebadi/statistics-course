
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Quantiles</title>
        
<base href="/">

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">



<!-- Vendor CSS Files -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  
  <link href="/courses/static/course/vendor/aos/aos.css" rel="stylesheet">
  <link href="/courses/static/course/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="/courses/static/course/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="/courses/static/course/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="/courses/static/course/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="/courses/static/course/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <!-- Template Main CSS File -->
  <link href="/courses/static/course/css/onepagestyle.css" rel="stylesheet">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.4.4/d3.min.js"
        integrity="sha512-hnFpvCiJ8Fr1lYLqcw6wLgFUOEZ89kWCkO+cEekwcWPIPKyknKV1eZmSSG3UxXfsSuf+z/SgmiYB1zFOg3l2UQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>


  



        
        <link rel="stylesheet" href="/courses/static/course/css/style.css">
        
    </head>
    <body>
         <!-- ======= Header ======= -->
  <header id="header" class="fixed-top">
    <div class="container d-flex align-items-center justify-content-between">

      
      <h1 class="logo"><a href="/courses/">Courses</a></h1>
      
      <!-- Uncomment below if you prefer to use an image logo -->
      <!-- <a href="index.html" class="logo"><img src="{% static 'course/img/logo.png" alt="" class="img-fluid"></a>-->

      <nav id="navbar" class="navbar">
        <ul>
          
          <li><a class="nav-link scrollto active" href="/courses/">Home</a></li>
          <li><a class="nv-link scrollto" href="/courses/#services">Courses</a></li>
          <li><a class="getstarted scrollto" href="https://javadebadi.github.io/">Javad Ebadi Home</a></li>
          
          
          
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->


        <nav class="sidebar">
            <ul>
                
                <li class="course-title">
                    <a href="/courses/statistics">
                        <i class="bx bx-stats"></i> Statistics
                    </a></li>
                                
                
                <li>
                    
                        
                        <a href="/courses/statistics/lessons/introduction-to-statistics" class="">
                        
                    
                        Introduction to Statistics
                    </a>
                </li>
                
                <li>
                    
                        
                        <a href="/courses/statistics/lessons/measure-of-center" class="">
                        
                    
                        Measure of Center
                    </a>
                </li>
                
                <li>
                    
                        
                        <a href="/courses/statistics/lessons/measure-of-spread" class="">
                        
                    
                        Measure of Spread
                    </a>
                </li>
                
                <li>
                    
                        
                        <a href="/courses/statistics/lessons/probability" class="">
                        
                    
                        Probability
                    </a>
                </li>
                
                <li>
                    
                        
                        <a href="/courses/statistics/lessons/random-variables" class="">
                        
                    
                        Random Variables
                    </a>
                </li>
                
                <li>
                    
                        
                        <a href="/courses/statistics/lessons/pmf-and-pdf" class="">
                        
                    
                        PMF and PDF
                    </a>
                </li>
                
                <li>
                    
                        
                        <a href="/courses/statistics/lessons/cdf-and-survival-function" class="">
                        
                    
                        CDF and Survival Function
                    </a>
                </li>
                
                <li>
                    
                        
                        <a href="/courses/statistics/lessons/quantiles" class="current">
                        
                    
                        Quantiles
                    </a>
                </li>
                
            </ul>
        </nav>
        <article class="content">
            
<h1>
Quantiles
</h1>
<h2>Formal Definition</h2>
<p>
The \(\alpha^{\rm{th}}\) <strong>quantile</strong> 
is defined as the point \(x_{\alpha}\) in distribution  
for which the CDF of the distribution equals to \(\alpha\).
<span class="block-formula">
\(
F(x_{\alpha}) = \alpha
\)
</span>
<p>
The <strong>percentile</strong> is the quantile experessed as a precent.
</p>
<p>
The <strong>median</strong> is the \(0.5^{\rm{th}}\) quantile or  \(50^{\rm{th}}\) percentile.
</p>
<p>
   Note that the quantile here is the property of the probability distribution, not the sampled data points. To distinguish
   between this and the sample quantile, we may call the quantile defined here as the <strong>population quantile</strong>.
</p>



<h2 id="cdf-normal">Quantiles of the Standard Normal Distribution</h2>
<p>
   In the following chart, the \(0.85\) quantile or \(85\) percentile of the standard normal distribution is illustrated.
</p>

<div id="quantile-plot" class="plot">
</div>

<h2>In Code</h2>
<p>
In python, we can use the <span class="inline-code">ppf</span> method of PDFs of <span class="inline-code">scipy.stats</span> module to calculate quantiles of probability distribution.s
In the following code, we use <span class="inline-code">scipy.stats.norm.ppf</span> to find the given quantiles of standard normal distribution.
Can you guess what are <span class="inline-code">loc</span> and <span class="inline-code">scale</span> parameters in this code?
</p> 


<div class="wcode">
<code>
<pre>
<span class="ki">import</span> numpy <span class="ki">as</span> np
<span class="ki">from</span> scipy.stats <span class="ki">import</span> norm

<span class="comment"># find percentiles of standard normal distribution</span>
norm.ppf([<span class="ln">0.001</span>, <span class="ln">0.0456</span>, <span class="ln">0.16</span>, <span class="ln">0.5</span>, <span class="ln">0.84</span>, <span class="ln">0.954</span>, <span class="ln">0.999</span>], loc<span class="o">=</span><span class="ln">0</span>, scale<span class="o">=</span><span class="ln">1</span>)

<span class="comment"># the quantiles will be calculated as follows</span>
<span class="comment"># array([-3.09023231, -1.6891014 , -0.99445788,  0.        ,  0.99445788, 1.68494077,  3.09023231])</span>

</pre>
</code>
</div>




<script>
// functions to generate normal distribution data points
function normalPDF(x, mu, sigma) {
   return 1.0 / (sigma * Math.sqrt(2 * Math.PI)) * Math.exp(-1.0 / 2.0 * Math.pow((x - mu) / sigma, 2));
}

function generateNormalPDFDataPoints(
   mu,
   sigma,
   xmin,
   xmax,
   vertial_boundries = false,
   npoints = 500,
) {
   let dataset = [];
   for (let i = 0; i <= npoints; i++) {
      xTemp = xmin + (xmax - xmin) / npoints * i
      yTemp = normalPDF(xTemp, mu, sigma)
      if (i == 0) {} else {
         dataset.push([xTemp, yTemp])
      }
   }
   if (vertial_boundries === true) {
      dataset.unshift([xmin, 0]);
      dataset.push([xmax, 0]);
   }
   return dataset;
}

// generate data
mu = 0 // the population mean of normal distribution
sigma = 1 // the population std of normal distribution
const pointNum = 500; // number of poinst to generate
const xMin = -4;
const xMax = 4;
const xMinCDF = xMin;
const xMaxCDF = 0.994;
const xDomain = xMax - xMin;


let dataset1 = generateNormalPDFDataPoints(0, 1, xMin, xMax, pointNum);
let cdfdataset = generateNormalPDFDataPoints(0, 1, xMinCDF, xMaxCDF, true, pointNum);




const w = 700 // svg width
const h = 400 // svg height
const padding = 30 // padding
const xAxisX = 0 // x position of x Axis
const xAxisY = h - 2 * padding // y position of x Axis
const yAxisX = 2 * padding // x psition of y Axis
const yAxisY = 0 // y psition of y Axis

// scale the plot
const xScale = d3.scaleLinear(
   [d3.min(dataset1, d => d[0]), d3.max(dataset1, d => d[0])],
   [2 * padding, w - 2 * padding]
)
const yScale = d3.scaleLinear(
   [d3.min(dataset1, d => d[1]), d3.max(dataset1, d => d[1])],
   [h - 2 * padding, 2 * padding]
)

// create svg element with determined width and hight
const svg = d3.select("#quantile-plot")
   .append("svg")
   .attr("width", w)
   .attr("height", h)

// add title and label
// Title
svg.append('text')
   .attr('x', w / 2)
   .attr('y', padding)
   .attr('text-anchor', 'middle')
   .style('font-family', 'Comic Sans MS')
   .style('font-size', 24)
   .text('84 th Percentile of Standard Normal Distribution is 0.994');

// X label
svg.append('text')
   .attr('x', w / 2)
   .attr('y', h - 5)
   .attr('text-anchor', 'middle')
   .style('font-family', 'Comic Sans MS')
   .style('font-size', 16)
   .text('x');

// Y label
svg.append('text')
   .attr('text-anchor', 'middle')
   .attr('transform', 'translate(' + padding + ',' + h / 2 + ')rotate(-90)')
   .style('font-family', 'Comic Sans MS')
   .style('font-size', 16)
   .text('');


// add axis
svg.append("g")
   .attr("transform", `translate(${xAxisX}, ${xAxisY})`)
   .call(d3.axisBottom(xScale));

svg.append("g")
   .attr("transform", `translate(${yAxisX}, ${yAxisY})`)
   .call(d3.axisLeft(yScale));


// add lines
var line = d3.line()
   .x(d => xScale(d[0]))
   .y(d => yScale(d[1]))
   .curve(d3.curveMonotoneX)


svg.append("path")
   .datum(dataset1)
   .attr("class", "line")
   .attr("d", line)
   .style("fill", "rgba(200,200,200,0.25)")
   .style("opacity", "1")
   .style("stroke", "black")
   .style("stroke-width", "2");


svg.append("path")
   .datum(cdfdataset)
   .attr("class", "line")
   .attr("d", line)
   .style("fill", "navy")
   .style("opacity", "0.2")
   .style("stroke", "none")
   .style("stroke-width", "0");

svg.append("path")
   .datum([[xMaxCDF, 0], [xMaxCDF, d3.max(dataset1, (d) => d[1])]])
   .attr("class", "line")
   .attr("d", line)
   .style("fill", "magenta")
   .style("opacity", "0.6")
   .style("stroke", "magenta")
   .style("stroke-width", "5");

// add texts
svg.append("text")
   .attr("x", 0.4 * w)
   .attr("y", h / 2)
   .text("F(x_84) = 0.84")
   .style("font-family", "Comic Sans MS")
   .style('font-size', 16)

svg.append("text")
   .attr("x", 0.63 * w)
   .attr("y", 0.25* h)
   .text("x_84 = 0.994")
   .style("font-family", "Comic Sans MS")
   .style('font-size', 16)
   .style('fill', 'magenta')
</script>

        </article>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    
    <link rel="stylesheet" href="/courses/static/course/js/script.js">
    
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>


    </body>
</html>